<div class="mid-panel">
    <h3>Update Rating Limits</h3>
</div>
  
<div class="container">
    <form #form="ngForm" (ngSubmit)="updateRatingSetting(1, updatedRatingSetting)"> 

        <div class="mb-3" *ngIf="ratingSettings && ratingSettings.length > 0">
            <label for="Upper">Upper Rating:</label>
            <input type="number" class="text-input form-control" id="Upper" name="Upper" [(ngModel)]="updatedRatingSetting.ratingSettings_Upper" required min="0" max="5">
            <div *ngIf="form.controls['Upper']?.invalid && (form.controls['Upper']?.dirty || form.controls['Upper']?.touched)">
                <div *ngIf="form.controls['Upper']?.errors?.['required']">
                    <p class="validation-notification">Lower rating limit is required.</p>
                </div>
                <div *ngIf="form.controls['Upper']?.errors?.['min']">
                    <p class="validation-notification">Lower rating limit cannot be negative.</p>
                </div>
                <div *ngIf="form.controls['Upper']?.errors?.['max']">
                    <p class="validation-notification">Lower rating limit cannot be more than 5.</p>
                </div>
            </div>
        </div>

        <div class="mb-3" *ngIf="ratingSettings && ratingSettings.length > 0">
            <label for="LowerRating">Lower Rating Limit:</label>
            <input type="number" class="text-input form-control" id="Lower" name="Lower" [(ngModel)]="updatedRatingSetting.ratingSettings_Lower" required min="0" max="5">
            <div *ngIf="form.controls['Lower']?.invalid && (form.controls['Lower']?.dirty || form.controls['Lower']?.touched)">
                <div *ngIf="form.controls['Lower']?.errors?.['required']">
                    <p class="validation-notification">Upper rating limit is required.</p>
                </div>
                <div *ngIf="form.controls['Lower']?.errors?.['min']">
                    <p class="validation-notification">Upper rating limit cannot be negative.</p>
                </div>
                <div *ngIf="form.controls['Lower']?.errors?.['max']">
                    <p class="validation-notification">Upper rating limit cannot be more than 5.</p>
                </div>
            </div>
        </div>

        <button type="submit" class="submit-button" [disabled]="!form.valid">Update Rating Limit</button>
    </form>
    <button class="btn-return" routerLink="/dashboard">Return</button>
</div>

